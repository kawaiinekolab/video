<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>M3TiiNY Words</title>
  <link href="assets/css/style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <script>
    var script = document.createElement("script");
    script.type = "text/javascript";

    script.addEventListener("load", function (event) {
      const url = new URLSearchParams(window.location.search);

      const config = {
        name: "Hello User",
        meetingId: url.get("meetingId"), // Get meeting id from params.
        apiKey: "721476d2-da25-4dbc-831d-2a11bd9cb2bb",

        containerId: null,
        whiteboardEnabled: true,
        micEnabled: true,
        webcamEnabled: true,
        participantCanToggleSelfWebcam: true,
        participantCanToggleSelfMic: true,
        screenShareEnabled: true,
        chatEnabled: true,
        raiseHandEnabled: true,
        screenShareEnabled: true,
        maxResolution: "hd",
        joinScreen: {
          visible: true,
          title: "Starting M3TiiNY Video",
          meetingUrl: window.location.href,
        },
        leftScreen: {
          actionButton: {
            label: "M3TiiNY Video",
            href: "https://m3tiinyofficial.github.com/video",
          },
          rejoinButtonEnabled: true,
        },
        recording: {
          enabled: true,
          webhookUrl: "https://www.videosdk.live/callback",
          // awsDirPath: `/meeting-recordings/${meetingId}/`, // Pass it only after configuring your S3 Bucket credentials on Video SDK dashboard
          autoStart: false,
          theme: "LIGHT", // DARK || LIGHT || DEFAULT

          layout: {
            type: "SIDEBAR", // "SPOTLIGHT" | "SIDEBAR" | "GRID"
            priority: "PIN", // "SPEAKER" | "PIN",
            gridSize: 3,
          },
        },
        livestream: {
          autoStart: true,
          enabled: true,
          theme: "LIGHT", // DARK || LIGHT || DEFAULT
        },
        hls: {
          enabled: true,
          autoStart: false,
          theme: "LIGHT", // DARK || LIGHT || DEFAULT
        },
        layout: {
          type: "SIDEBAR", // "SPOTLIGHT" | "SIDEBAR" | "GRID"
          priority: "PIN", // "SPEAKER" | "PIN",
          gridSize: 3,
        },
        branding: {
          enabled: true,
          logoURL:
            "https://m3tiinyofficial.github.io/video/assets/img/logo/logo.png",
          name: "M3TiiNY Video",
          poweredBy: false,
        },
        theme: "LIGHT", // DARK || LIGHT || DEFAULT
        mode: "CONFERENCE", // VIEWER || CONFERENCE
        debug: true, // false
        waitingScreen: {
          imageUrl: "https://m3tiinyofficial.github.io/video/assets/img/loading-gif/loading.gif",
          text: "Connecting to the meeting...",
        },
        videoConfig: {
          resolution: "h1080p_w1920p", //h360p_w640p, h540p_w960p, h1080p_w1920p
          optimizationMode: "motion", // text , detail
          multiStream: true,
        },
        audioConfig: {
          quality: "high_quality", //speech_low_quality , high_quality
        },
        screenShareConfig: {
          resolution: "h1080p_15fps", // h360p_30fps , h720p_5fps, h1080p_15fps
          optimizationMode: "text", // motion , detail
        },
        permissions: {
          askToJoin: false,
          toggleParticipantWebcam: false,
          toggleParticipantMic: false,
          toggleParticipantScreenshare: false,
          toggleRecording: true,
          pin: true,
          removeParticipant: true,
          endMeeting: true,
          toggleLivestream: true,
          toggleVirtualBackground: true,
          canCreatePoll: true,
          drawOnWhiteboard: true,
          toggleWhiteboard: true,
        },
      };

      const meeting = new VideoSDKMeeting();
      meeting.init(config);
    });

    script.src =
      "https://sdk.videosdk.live/rtc-js-prebuilt/0.3.37/rtc-js-prebuilt.js";
    document.getElementsByTagName("head")[0].appendChild(script);
  </script>
  
</body>

</html>